From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Byron Marohn <combustible@live.com>
Date: Tue, 9 Jun 2020 21:19:52 -0400
Subject: [PATCH] Monumenta - Fix generating loot table contents

Signed-off-by: Byron Marohn <combustible@live.com>

diff --git a/src/main/java/org/bukkit/craftbukkit/CraftLootTable.java b/src/main/java/org/bukkit/craftbukkit/CraftLootTable.java
index bf6fe7783ba7eef9d5f5cadc9c16f27f7c37bc1a..d144b0f73fa5c4c382714554d82ae46adc7b8095 100644
--- a/src/main/java/org/bukkit/craftbukkit/CraftLootTable.java
+++ b/src/main/java/org/bukkit/craftbukkit/CraftLootTable.java
@@ -103,12 +103,10 @@ public class CraftLootTable implements org.bukkit.loot.LootTable {
         // SPIGOT-5603 - Avoid IllegalArgumentException in LootTableInfo#build()
         LootContextParameterSet.Builder nmsBuilder = new LootContextParameterSet.Builder();
         for (LootContextParameter<?> param : getHandle().getLootContextParameterSet().getRequired()) {
-            nmsBuilder.addRequired(param);
+            nmsBuilder.addOptional(param);
         }
         for (LootContextParameter<?> param : getHandle().getLootContextParameterSet().getOptional()) {
-            if (!getHandle().getLootContextParameterSet().getRequired().contains(param)) {
-                nmsBuilder.addOptional(param);
-            }
+            nmsBuilder.addOptional(param);
         }
         nmsBuilder.addOptional(LootContextParameters.LOOTING_MOD);
 
